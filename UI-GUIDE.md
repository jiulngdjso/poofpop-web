# Poofpop 前端使用指南

## 📦 新版 UI 功能

我创建了一个增强版前端界面，包含以下新功能：

### ✨ 新增功能

1. **暗黑模式** 🌙
   - 点击右上角月亮/太阳图标切换主题
   - 自动保存到 LocalStorage

2. **拖拽上传** 📁
   - 直接拖拽文件到上传区域
   - 支持点击上传

3. **文件预览** 👀
   - 视频文件：实时播放预览
   - 图片文件：缩略图预览

4. **历史记录** 📋
   - 自动保存最近 10 条处理记录
   - 点击已完成任务可重新下载
   - 一键清空历史

5. **增强的参数配置** ⚙️
   - 视频去水印：无需配置
   - 物体移除：自定义移除目标
   - 图片放大：滑块选择倍数（2-4x），选择输出格式

6. **更好的状态显示** 📊
   - 彩色状态标签
   - 动态进度条
   - 实时状态更新

7. **响应式设计** 📱
   - 完美适配桌面、平板、手机
   - 移动端优化布局

## 🚀 如何启用新版 UI

### 方案 1：替换现有文件（推荐）

```bash
cd poofpop-web/src

# 备份原文件
mv App.jsx App-Old.jsx
mv App.css App-Old.css

# 使用新版本
mv App-Enhanced.jsx App.jsx
mv App-Enhanced.css App.css

# 重启开发服务器
npm run dev
```

### 方案 2：临时测试新版

修改 `main.jsx`:

```jsx
import App from './App-Enhanced'  // 改成这个
import './App-Enhanced.css'       // 改成这个
```

### 方案 3：保持两个版本

在 `main.jsx` 中动态选择：

```jsx
// 通过环境变量控制
const USE_ENHANCED = import.meta.env.VITE_USE_ENHANCED === 'true'
import App from USE_ENHANCED ? './App-Enhanced' : './App'
```

## 📁 文件结构

```
poofpop-web/src/
├── App.jsx              # 原版（简洁版）
├── App.css              # 原版样式
├── App-Enhanced.jsx     # 新版（功能增强版）
├── App-Enhanced.css     # 新版样式
├── main.jsx             # 入口文件
└── lib/
    └── api.js           # API 客户端（通用）
```

## 🎨 设计亮点

### 1. 视觉设计
- 渐变色按钮和标题
- 卡片阴影和悬停效果
- 流畅的过渡动画
- 柔和的配色方案

### 2. 交互设计
- 拖拽上传体验
- 一键复制 Job ID
- 智能任务类型切换
- 实时进度反馈

### 3. 用户体验
- 文件大小验证（200MB 限制）
- 文件类型自动验证
- 错误提示友好化
- 历史记录本地缓存

## 🔧 配置 API 地址

在项目根目录创建 `.env` 文件：

```env
# 开发环境
VITE_API_BASE=http://localhost:8787

# 生产环境（部署时修改）
# VITE_API_BASE=https://poofpop-api.your-domain.workers.dev
```

## 📱 响应式断点

- **桌面**: > 1024px - 双栏布局
- **平板**: 640px - 1024px - 单栏布局
- **手机**: < 640px - 紧凑布局

## 🌈 主题颜色

### 亮色主题
- 背景: `#f5f7fa`
- 卡片: `#ffffff`
- 主色: `#4299e1` (蓝色)
- 成功: `#48bb78` (绿色)
- 错误: `#f56565` (红色)

### 暗色主题
- 背景: `#1a202c`
- 卡片: `#2d3748`
- 其他颜色相同

## 🐛 已知问题

1. **视频预览在某些浏览器可能不显示**
   - 解决方案：确保视频格式为标准 MP4

2. **拖拽在 Safari 可能有延迟**
   - 正常现象，不影响功能

## 📝 待优化建议

### 短期优化
- [ ] 添加上传队列（支持批量上传）
- [ ] 添加处理进度百分比（与后端集成）
- [ ] 增加更多文件格式支持

### 长期优化
- [ ] WebSocket 实时推送（替代轮询）
- [ ] 视频对比预览（处理前后对比）
- [ ] 用户账号系统
- [ ] 支付集成
- [ ] CDN 加速下载

## 💡 使用技巧

1. **快速开始**：拖拽文件直接开始
2. **批量处理**：使用历史记录快速重新下载
3. **主题切换**：根据环境光线选择舒适主题
4. **复制 Job ID**：点击 Job ID 即可复制，方便分享

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📄 许可证

MIT License
